---
import "../styles/global.css";
import RainbowNotch from "../components/rainbow-notch.astro";
import ProjectCard from "../components/project-card.astro";
import { libraries, apps, templates } from "../data/projects";
import { people } from "../data/people";
import metadata from "../../metadata.json";

// Project categories
const categories = [
  { title: "Apps", projects: apps },
  { title: "Libraries", projects: libraries },
  { title: "Templates", projects: templates },
];

// Social links
const socialLinks = [
  { label: "Discord", href: "https://discord.gg/pspADbEW" },
  { label: "GitHub", href: "https://github.com/starmode-base" },
  { label: "Bluesky", href: "https://bsky.app/profile/lirbank.com" },
  { label: "Twitter", href: "https://x.com/MikaelLirbank" },
];
---

<html lang="en" class="scroll-smooth">
  <head>
    <meta charset="utf-8" />
    <!-- Preload Inter normal (must match src URL in global.css @font-face) -->
    <link
      rel="preload"
      href="https://fonts.gstatic.com/s/inter/v20/UcCo3FwrK3iLTcviYwYZ8UA3.woff2"
      as="font"
      crossorigin
    />
    <link rel="icon" type="image/svg+xml" href={metadata.browserIcon} />
    <meta name="viewport" content="width=device-width" />
    <meta name="generator" content={Astro.generator} />
    <title>{metadata.name}</title>
    <meta name="description" content={metadata.description} />
    <meta property="og:image" content={metadata.shareCard} />
  </head>
  <body class="bg-stone-50 text-stone-900 antialiased">
    <!-- Rainbow Notch -->
    <RainbowNotch href="#inclusion" />

    <header
      class="mx-auto flex w-full max-w-4xl flex-col items-center gap-4 px-6 py-16 sm:gap-8 sm:py-32"
    >
      <h1 class="sr-only">{metadata.name}</h1>
      <div class="px-10">
        <img
          src="/starmode-logo.svg"
          alt={metadata.name}
          width="728"
          height="74"
          class="h-auto w-full max-w-xl"
        />
      </div>
      <p class="token-tagline text-center">
        {metadata.tagline}
      </p>
    </header>

    <main class="flex flex-col items-center gap-28">
      <!-- Hero -->

      <!-- Projects -->
      <section class="flex w-full max-w-4xl flex-col gap-16 px-6">
        <h2 class="sr-only">Projects</h2>
        {
          categories.map(({ title, projects }) => (
            <div class="flex flex-col gap-10">
              <h3 class="token-label border-b border-stone-200 pb-2">
                {title}
              </h3>
              {projects.map((project) => (
                <ProjectCard project={project} />
              ))}
            </div>
          ))
        }
      </section>

      <!-- Contributors -->
      <section class="flex w-full max-w-4xl flex-col gap-6 px-6">
        <h2 class="token-heading">Contributors</h2>
        <div class="flex flex-wrap gap-12">
          {
            people.map((person) => (
              <div class="flex flex-col gap-1">
                <h3 class="token-title">
                  {person.website ? (
                    <a href={person.website} class="token-link" target="_blank">
                      {person.name}
                    </a>
                  ) : (
                    person.name
                  )}
                </h3>
                <p class="token-body">{person.role}</p>
              </div>
            ))
          }
        </div>
      </section>

      <!-- Inclusion -->
      <section id="inclusion" class="w-full max-w-4xl px-6">
        <div class="flex flex-col items-start gap-6">
          <RainbowNotch variant="inline" />
          <h2 class="token-heading">Inclusion</h2>
          <p class="token-body-relaxed max-w-2xl">
            Everyone deserves to feel safe, respected, and welcome—everywhere,
            always. That means creating an environment where people can
            contribute openly, ask questions freely, and be themselves. It also
            means calling out discrimination and exclusionary behavior—silence
            isn't neutrality.
          </p>
        </div>
      </section>

      <!-- Footer -->
      <footer class="w-full bg-stone-100">
        <div
          class="token-body mx-auto flex max-w-4xl flex-col items-center justify-between gap-6 px-6 py-12 sm:flex-row"
        >
          <div class="flex items-center gap-6">
            {
              socialLinks.map(({ label, href }) => (
                <a href={href} class="token-link">
                  {label}
                </a>
              ))
            }
          </div>
          <p>© 2025 {metadata.name}</p>
        </div>
      </footer>
    </main>
  </body>
</html>
